<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quantum Computer Outreach Project: dspic33e/qcomp-sim-c.X/io.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quantum Computer Outreach Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_15ff54b15d1e25f7ce738c9a3fe98b31.html">dspic33e</a></li><li class="navelem"><a class="el" href="dir_41732047a0354d31db2b57d6efa10cab.html">qcomp-sim-c.X</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">io.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Description: Header file for input output functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;p33EP512MU810.h&quot;</code><br />
<code>#include &quot;xc.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="spi_8h_source.html">spi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="consts_8h_source.html">consts.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for io.h:</div>
<div class="dyncontent">
<div class="center"><img src="io_8h__incl.png" border="0" usemap="#dspic33e_2qcomp-sim-c_8X_2io_8h" alt=""/></div>
<map name="dspic33e_2qcomp-sim-c_8X_2io_8h" id="dspic33e_2qcomp-sim-c_8X_2io_8h">
<area shape="rect" id="node5" href="spi_8h.html" title="Description: SPI communication functions. " alt="" coords="83,95,134,121"/>
<area shape="rect" id="node6" href="consts_8h.html" title="header file for (global) constants " alt="" coords="307,95,379,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="io_8h__dep__incl.png" border="0" usemap="#dspic33e_2qcomp-sim-c_8X_2io_8hdep" alt=""/></div>
<map name="dspic33e_2qcomp-sim-c_8X_2io_8hdep" id="dspic33e_2qcomp-sim-c_8X_2io_8hdep">
<area shape="rect" id="node2" href="display_8h.html" title="Description: Header file containing all the functions for displaying the qubits state vector..." alt="" coords="188,95,331,136"/>
<area shape="rect" id="node5" href="tests_8h.html" title="Description: Header file containing all the tests we performed. " alt="" coords="243,273,385,315"/>
<area shape="rect" id="node9" href="io_8c.html" title="Contains all the functions for reading buttons and writing to LEDs. " alt="" coords="516,95,659,136"/>
<area shape="rect" id="node3" href="algo_8h.html" title="header file for algorithms " alt="" coords="79,184,221,225"/>
<area shape="rect" id="node6" href="main_8c.html" title="The main function. " alt="" coords="104,363,247,404"/>
<area shape="rect" id="node8" href="display_8c.html" title="for all the state display functions " alt="" coords="297,184,440,225"/>
<area shape="rect" id="node4" href="algo_8c.html" title="Contains quantum algorithms to be run. " alt="" coords="24,273,167,315"/>
<area shape="rect" id="node7" href="tests_8c.html" title="Description: Contains all the tests we have performed on the micro&#45; controller. " alt="" coords="271,363,413,404"/>
</map>
</div>
</div>
<p><a href="io_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLED__GLOBAL.html">LED_GLOBAL</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">pin mappings  <a href="structLED__GLOBAL.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLED.html">LED</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> has the following type.  <a href="structLED.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRGB.html">RGB</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A type for holding red, green, blue values.  <a href="structRGB.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcycle__node.html">cycle_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The basis for a linked list of states to cycle.  <a href="structcycle__node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab435487e41a1d42d4379464e35f873b4"><td class="memItemLeft" align="right" valign="top"><a id="ab435487e41a1d42d4379464e35f873b4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#ab435487e41a1d42d4379464e35f873b4">red</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ab435487e41a1d42d4379464e35f873b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locations of LEDs and buttons on Port D. <br /></td></tr>
<tr class="separator:ab435487e41a1d42d4379464e35f873b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847be6f7bedcc14fe4b1d7aa7967b6b4"><td class="memItemLeft" align="right" valign="top"><a id="a847be6f7bedcc14fe4b1d7aa7967b6b4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>amber</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a847be6f7bedcc14fe4b1d7aa7967b6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7027592d032f7d20b38a1304ae3da2a2"><td class="memItemLeft" align="right" valign="top"><a id="a7027592d032f7d20b38a1304ae3da2a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>green</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a7027592d032f7d20b38a1304ae3da2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fa638b049335430901ebbf74304f11"><td class="memItemLeft" align="right" valign="top"><a id="aa9fa638b049335430901ebbf74304f11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>sw1</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:aa9fa638b049335430901ebbf74304f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825f5adf217ea046aa0ba319f6ccc79f"><td class="memItemLeft" align="right" valign="top"><a id="a825f5adf217ea046aa0ba319f6ccc79f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>sw2</b>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a825f5adf217ea046aa0ba319f6ccc79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc6e09e1cbd9c2bd478153a46a96326"><td class="memItemLeft" align="right" valign="top"><a id="a3bc6e09e1cbd9c2bd478153a46a96326"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>sw3</b>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a3bc6e09e1cbd9c2bd478153a46a96326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8df4166084b06f1e80d3510e5dcf7e1"><td class="memItemLeft" align="right" valign="top"><a id="aa8df4166084b06f1e80d3510e5dcf7e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>off</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aa8df4166084b06f1e80d3510e5dcf7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cc7dae7a40abcb545fc41730fa1476"><td class="memItemLeft" align="right" valign="top"><a id="a42cc7dae7a40abcb545fc41730fa1476"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>on</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a42cc7dae7a40abcb545fc41730fa1476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d6abc7b58eb11e517993df83b7f0f7"><td class="memItemLeft" align="right" valign="top"><a id="aa4d6abc7b58eb11e517993df83b7f0f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#aa4d6abc7b58eb11e517993df83b7f0f7">LE</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:aa4d6abc7b58eb11e517993df83b7f0f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control for TLC591x chip on Port D. <br /></td></tr>
<tr class="separator:aa4d6abc7b58eb11e517993df83b7f0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7122a6e5d75b5f8b7f00c7130df40407"><td class="memItemLeft" align="right" valign="top"><a id="a7122a6e5d75b5f8b7f00c7130df40407"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OE</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a7122a6e5d75b5f8b7f00c7130df40407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4453478cd8b3bf96df84fe861cb78600"><td class="memItemLeft" align="right" valign="top"><a id="a4453478cd8b3bf96df84fe861cb78600"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a4453478cd8b3bf96df84fe861cb78600">SH</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a4453478cd8b3bf96df84fe861cb78600"><td class="mdescLeft">&#160;</td><td class="mdescRight">COntrol lines for SNx4HC165 chip. <br /></td></tr>
<tr class="separator:a4453478cd8b3bf96df84fe861cb78600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9f9ba2b507da6c31d80a0740057813"><td class="memItemLeft" align="right" valign="top"><a id="add9f9ba2b507da6c31d80a0740057813"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CLK_INH</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:add9f9ba2b507da6c31d80a0740057813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77440c4104ae0a7368936ff87a3d3260"><td class="memItemLeft" align="right" valign="top"><a id="a77440c4104ae0a7368936ff87a3d3260"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a77440c4104ae0a7368936ff87a3d3260">LED_NUM</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a77440c4104ae0a7368936ff87a3d3260"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of external LEDs. <br /></td></tr>
<tr class="separator:a77440c4104ae0a7368936ff87a3d3260"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae4014da852e67342bff08a1c4ebe4162"><td class="memItemLeft" align="right" valign="top"><a id="ae4014da852e67342bff08a1c4ebe4162"></a>
typedef struct <a class="el" href="structcycle__node.html">cycle_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#ae4014da852e67342bff08a1c4ebe4162">cycle_node_t</a></td></tr>
<tr class="memdesc:ae4014da852e67342bff08a1c4ebe4162"><td class="mdescLeft">&#160;</td><td class="mdescRight">The basis for a linked list of states to cycle. <br /></td></tr>
<tr class="separator:ae4014da852e67342bff08a1c4ebe4162"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:accd4a9c9edd862d4e50bf6a3740d9b82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#accd4a9c9edd862d4e50bf6a3740d9b82">setup_io</a> (void)</td></tr>
<tr class="memdesc:accd4a9c9edd862d4e50bf6a3740d9b82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up LEDs and buttons on port D.  <a href="#accd4a9c9edd862d4e50bf6a3740d9b82">More...</a><br /></td></tr>
<tr class="separator:accd4a9c9edd862d4e50bf6a3740d9b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0891d14ef2e6230b477700b9e3daad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a3f0891d14ef2e6230b477700b9e3daad">setup_external_leds</a> (void)</td></tr>
<tr class="memdesc:a3f0891d14ef2e6230b477700b9e3daad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set external variable <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> LEDs.  <a href="#a3f0891d14ef2e6230b477700b9e3daad">More...</a><br /></td></tr>
<tr class="separator:a3f0891d14ef2e6230b477700b9e3daad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31fb0fd759d90940706a83347642f59e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a31fb0fd759d90940706a83347642f59e">set_led</a> (int color, int state)</td></tr>
<tr class="memdesc:a31fb0fd759d90940706a83347642f59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn a particular <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> on or off.  <a href="#a31fb0fd759d90940706a83347642f59e">More...</a><br /></td></tr>
<tr class="separator:a31fb0fd759d90940706a83347642f59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2b76dada8dc8a2d65249074843867c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a5c2b76dada8dc8a2d65249074843867c">read_btn</a> (int btn)</td></tr>
<tr class="memdesc:a5c2b76dada8dc8a2d65249074843867c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the state of a push button.  <a href="#a5c2b76dada8dc8a2d65249074843867c">More...</a><br /></td></tr>
<tr class="separator:a5c2b76dada8dc8a2d65249074843867c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf53abfd4d628a2791bf1783de96b27"><td class="memItemLeft" align="right" valign="top"><a id="a4bf53abfd4d628a2791bf1783de96b27"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a4bf53abfd4d628a2791bf1783de96b27">leds_off</a> (void)</td></tr>
<tr class="memdesc:a4bf53abfd4d628a2791bf1783de96b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn all the LEDs off. <br /></td></tr>
<tr class="separator:a4bf53abfd4d628a2791bf1783de96b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12adda62b67a14e911149c76376ce295"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a12adda62b67a14e911149c76376ce295">flash_led</a> (int color, int number)</td></tr>
<tr class="memdesc:a12adda62b67a14e911149c76376ce295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flash one <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> a number of times.  <a href="#a12adda62b67a14e911149c76376ce295">More...</a><br /></td></tr>
<tr class="separator:a12adda62b67a14e911149c76376ce295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a09a687c0efdba91ec54b2853b2260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a24a09a687c0efdba91ec54b2853b2260">flash_all</a> (int number)</td></tr>
<tr class="memdesc:a24a09a687c0efdba91ec54b2853b2260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flash all the LEDs a number of times.  <a href="#a24a09a687c0efdba91ec54b2853b2260">More...</a><br /></td></tr>
<tr class="separator:a24a09a687c0efdba91ec54b2853b2260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d0c0b5eee8cda66adde23080acd0bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a89d0c0b5eee8cda66adde23080acd0bd">set_strobe</a> (int color, int state)</td></tr>
<tr class="memdesc:a89d0c0b5eee8cda66adde23080acd0bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> strobing.  <a href="#a89d0c0b5eee8cda66adde23080acd0bd">More...</a><br /></td></tr>
<tr class="separator:a89d0c0b5eee8cda66adde23080acd0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8abb07633ea7d3ab2bd8c9d082feb65a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a8abb07633ea7d3ab2bd8c9d082feb65a">toggle_strobe</a> (int color)</td></tr>
<tr class="memdesc:a8abb07633ea7d3ab2bd8c9d082feb65a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> strobe.  <a href="#a8abb07633ea7d3ab2bd8c9d082feb65a">More...</a><br /></td></tr>
<tr class="separator:a8abb07633ea7d3ab2bd8c9d082feb65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fa53776e43c57b777161409d06035a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#ad2fa53776e43c57b777161409d06035a">update_display_buffer</a> (int led_index, bool R, bool G, bool B)</td></tr>
<tr class="separator:ad2fa53776e43c57b777161409d06035a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a207068fff8b8f61fdf49a807efe94f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a7a207068fff8b8f61fdf49a807efe94f">write_display_driver</a> (void)</td></tr>
<tr class="memdesc:a7a207068fff8b8f61fdf49a807efe94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a byte to the display driver.  <a href="#a7a207068fff8b8f61fdf49a807efe94f">More...</a><br /></td></tr>
<tr class="separator:a7a207068fff8b8f61fdf49a807efe94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed8267b4ddf885c2b33b13a8d38beb1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#a1ed8267b4ddf885c2b33b13a8d38beb1">set_external_led</a> (int led_index, unsigned _Fract R, unsigned _Fract G, unsigned _Fract B)</td></tr>
<tr class="memdesc:a1ed8267b4ddf885c2b33b13a8d38beb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates color properties of global led array.  <a href="#a1ed8267b4ddf885c2b33b13a8d38beb1">More...</a><br /></td></tr>
<tr class="separator:a1ed8267b4ddf885c2b33b13a8d38beb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f93a224b1c0993b55cb3534237300f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#af3f93a224b1c0993b55cb3534237300f">led_color_int</a> (int device, int R, int G, int B)</td></tr>
<tr class="memdesc:af3f93a224b1c0993b55cb3534237300f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes led number &amp; <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> -&gt; returns integer for sending via SPI to set the <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a>.  <a href="#af3f93a224b1c0993b55cb3534237300f">More...</a><br /></td></tr>
<tr class="separator:af3f93a224b1c0993b55cb3534237300f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1bf99f09184b0112291c5eaa0832fb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#ae1bf99f09184b0112291c5eaa0832fb6">led_cycle_test</a> (void)</td></tr>
<tr class="memdesc:ae1bf99f09184b0112291c5eaa0832fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop to cycle through LEDs 0 - 15.  <a href="#ae1bf99f09184b0112291c5eaa0832fb6">More...</a><br /></td></tr>
<tr class="separator:ae1bf99f09184b0112291c5eaa0832fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb7c3f9a532bae5bd32330fb1f2f4b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#aedb7c3f9a532bae5bd32330fb1f2f4b8">read_external_buttons</a> (void)</td></tr>
<tr class="memdesc:aedb7c3f9a532bae5bd32330fb1f2f4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the buttons array (see declaration above)  <a href="#aedb7c3f9a532bae5bd32330fb1f2f4b8">More...</a><br /></td></tr>
<tr class="separator:aedb7c3f9a532bae5bd32330fb1f2f4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb95f4bc07cf12c05c36cc94566c85c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#afb95f4bc07cf12c05c36cc94566c85c6">add_to_cycle</a> (<a class="el" href="structRGB.html">RGB</a> colors[], int size)</td></tr>
<tr class="memdesc:afb95f4bc07cf12c05c36cc94566c85c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an element to the states to be cycled.  <a href="#afb95f4bc07cf12c05c36cc94566c85c6">More...</a><br /></td></tr>
<tr class="separator:afb95f4bc07cf12c05c36cc94566c85c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca6175051cc2870aefd3c17e07822fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8h.html#afca6175051cc2870aefd3c17e07822fc">reset_cycle</a> (void)</td></tr>
<tr class="memdesc:afca6175051cc2870aefd3c17e07822fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the display cycle. Called before adding anything.  <a href="#afca6175051cc2870aefd3c17e07822fc">More...</a><br /></td></tr>
<tr class="separator:afca6175051cc2870aefd3c17e07822fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Description: Header file for input output functions. </p>
<p>Include it at the top of any C source file which uses buttons and LEDs. It also defines various constants representing the positions of the buttons and LEDs on port D. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afb95f4bc07cf12c05c36cc94566c85c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb95f4bc07cf12c05c36cc94566c85c6">&#9670;&nbsp;</a></span>add_to_cycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_to_cycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRGB.html">RGB</a>&#160;</td>
          <td class="paramname"><em>colors</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an element to the states to be cycled. </p>
<p>Add an element to the states to be cycled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leds</td><td>An array of <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> indices </td></tr>
    <tr><td class="paramname">colors</td><td>Corresponding <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> values for each <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> </td></tr>
    <tr><td class="paramname">size</td><td>The size of both the above arrays</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to add a set of <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> states (<a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> values) into the list of states being cycled.</p>
<p>Repeatedly calling this function adds a new state to the end of the list of displayed states. <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> states are shown in the order this function is called.</p>
<p>The implementation uses the linked list type <a class="el" href="structcycle__node.html" title="The basis for a linked list of states to cycle. ">cycle_node</a>. Each call of this function adds a new element to the end of cycle node </p>
<p>Add the new colors to top of array </p>

</div>
</div>
<a id="a24a09a687c0efdba91ec54b2853b2260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24a09a687c0efdba91ec54b2853b2260">&#9670;&nbsp;</a></span>flash_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_all </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flash all the LEDs a number of times. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12adda62b67a14e911149c76376ce295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12adda62b67a14e911149c76376ce295">&#9670;&nbsp;</a></span>flash_led()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_led </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flash one <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> a number of times. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td></td></tr>
    <tr><td class="paramname">number</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Flash one <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> a number of times. </p>

</div>
</div>
<a id="af3f93a224b1c0993b55cb3534237300f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f93a224b1c0993b55cb3534237300f">&#9670;&nbsp;</a></span>led_color_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int led_color_int </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes led number &amp; <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> -&gt; returns integer for sending via SPI to set the <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>input <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> number to change </td></tr>
    <tr><td class="paramname">R</td><td>red value between 0 &amp; 1 </td></tr>
    <tr><td class="paramname">G</td><td>green value between 0 &amp; 1 </td></tr>
    <tr><td class="paramname">B</td><td>blue value between 0 &amp; 1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns int to be sent to <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> Driver </dd></dl>
<p>convention <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> -&gt; 000</p>
<p>Each <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> takes 3 lines, assumes there are no gaps between <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> channels "device" goes between 0 to 2^n -1 </p>

</div>
</div>
<a id="ae1bf99f09184b0112291c5eaa0832fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1bf99f09184b0112291c5eaa0832fb6">&#9670;&nbsp;</a></span>led_cycle_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int led_cycle_test </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loop to cycle through LEDs 0 - 15. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>This won't work now: write_display_driver(counter); </dd></dl>

</div>
</div>
<a id="a5c2b76dada8dc8a2d65249074843867c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c2b76dada8dc8a2d65249074843867c">&#9670;&nbsp;</a></span>read_btn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_btn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the state of a push button. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">btn</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>How well do you know C </dd></dl>

</div>
</div>
<a id="aedb7c3f9a532bae5bd32330fb1f2f4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedb7c3f9a532bae5bd32330fb1f2f4b8">&#9670;&nbsp;</a></span>read_external_buttons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_external_buttons </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the buttons array (see declaration above) </p>
<p>SH pin</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>How long should this be? </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>button remappings... </dd></dl>

</div>
</div>
<a id="afca6175051cc2870aefd3c17e07822fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afca6175051cc2870aefd3c17e07822fc">&#9670;&nbsp;</a></span>reset_cycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reset_cycle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the display cycle. Called before adding anything. </p>
<p>Reset the display cycle. Called before adding anything.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>do it</dd></dl>

</div>
</div>
<a id="a1ed8267b4ddf885c2b33b13a8d38beb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed8267b4ddf885c2b33b13a8d38beb1">&#9670;&nbsp;</a></span>set_external_led()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_external_led </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned _Fract&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned _Fract&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned _Fract&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates color properties of global led array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led_index</td><td></td></tr>
    <tr><td class="paramname">R</td><td>red value between 0 &amp; 1 </td></tr>
    <tr><td class="paramname">G</td><td>green value between 0 &amp; 1 </td></tr>
    <tr><td class="paramname">B</td><td>blue value between 0 &amp; 1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 otherwise</dd></dl>
<p>Use the function to set the <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> level of an <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a>. The <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> is chosen using the </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led_index.</td><td>The </td></tr>
    <tr><td class="paramname">R</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31fb0fd759d90940706a83347642f59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31fb0fd759d90940706a83347642f59e">&#9670;&nbsp;</a></span>set_led()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_led </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn a particular <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> on or off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td></td></tr>
    <tr><td class="paramname">state</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89d0c0b5eee8cda66adde23080acd0bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d0c0b5eee8cda66adde23080acd0bd">&#9670;&nbsp;</a></span>set_strobe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_strobe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> strobing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td></td></tr>
    <tr><td class="paramname">state</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f0891d14ef2e6230b477700b9e3daad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0891d14ef2e6230b477700b9e3daad">&#9670;&nbsp;</a></span>setup_external_leds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_external_leds </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set external variable <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> LEDs. </p>
<p>Initialise <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> lines</p>
<p>Initialise parameters to zero</p>
<p>Initialise display buffer to zero</p>
<p>Set flashing period</p>
<p>Turn timer 6 on </p>

</div>
</div>
<a id="accd4a9c9edd862d4e50bf6a3740d9b82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accd4a9c9edd862d4e50bf6a3740d9b82">&#9670;&nbsp;</a></span>setup_io()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setup_io </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up LEDs and buttons on port D. </p>
<p>&lt; Set port c digital for spi3</p>
<p>Set the OE pin high</p>
<p>Set OE(ED2) pin</p>
<p>Set the SH pin high</p>
<p>Set SH pin</p>
<p>set CLK_INH high while buttons are pressed </p>

</div>
</div>
<a id="a8abb07633ea7d3ab2bd8c9d082feb65a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8abb07633ea7d3ab2bd8c9d082feb65a">&#9670;&nbsp;</a></span>toggle_strobe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggle_strobe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggle <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> strobe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2fa53776e43c57b777161409d06035a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2fa53776e43c57b777161409d06035a">&#9670;&nbsp;</a></span>update_display_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_display_buffer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led_index</td><td><a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> number to modify </td></tr>
    <tr><td class="paramname">R</td><td>Intended value of the R led </td></tr>
    <tr><td class="paramname">G</td><td>Intended value of the G led </td></tr>
    <tr><td class="paramname">B</td><td>Intended value of the B led </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td><a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> number to modify </td></tr>
    <tr><td class="paramname">R</td><td>Intended value of the R led </td></tr>
    <tr><td class="paramname">G</td><td>Intended value of the G led </td></tr>
    <tr><td class="paramname">B</td><td>Intended value of the B led </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful</dd></dl>
<p>Could this get any worse!</p>
<p>This function is supposed to make the display writing process more efficient. It updates a global display buffer which is written periodically to the led display drivers. Instead of the display driver function re-reading the desired state of all the <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> lines every time it is called, this function can be used to update only the lines that have changed.</p>
<p>There are quite a few potential bugs in here, mainly array out of bounds if the DISPLAY_CHIP_NUM is not set correctly or the <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> lines are wrong. (Or if there are just bugs.) </p>
<p>Set or clear the red <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> of the nth <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a></p>
<p>Set or clear the red <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> of the nth <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a></p>
<p>Set or clear the red <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> of the nth <a class="el" href="structLED.html" title="Each LED has the following type. ">LED</a> </p>

</div>
</div>
<a id="a7a207068fff8b8f61fdf49a807efe94f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a207068fff8b8f61fdf49a807efe94f">&#9670;&nbsp;</a></span>write_display_driver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_display_driver </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a byte to the display driver. </p>
<p>Don't use this function to write to LEDs &ndash; use the set_external_led function</p>
<p>Send a byte to the display driver.</p>
<p>On power on, the chip (TLC591x) is in normal mode which means that the clocked bytes sent to the chip set which LEDs are on and which are off (as opposed to setting the current of the LEDs)</p>
<p>To write to the device, use the SPI module to write a byte to the SDI 1 pin on the chip. Then momentarily set the <a class="el" href="io_8h.html#aa4d6abc7b58eb11e517993df83b7f0f7" title="Control for TLC591x chip on Port D. ">LE(ED1)</a> pin to latch the data onto the output register. Finally, bring the OE(ED2) pin low to enable the current sinking to turn on the LEDs. See the timing diagram on page 17 of the datasheet for details.</p>
<p><a class="el" href="io_8h.html#aa4d6abc7b58eb11e517993df83b7f0f7" title="Control for TLC591x chip on Port D. ">LE(ED1)</a> and OE(ED2) will be on Port D </p>
<p>Set <a class="el" href="io_8h.html#aa4d6abc7b58eb11e517993df83b7f0f7" title="Control for TLC591x chip on Port D. ">LE(ED1)</a> pin</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>How long should this be? </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
