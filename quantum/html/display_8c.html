<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quantum Computer Outreach Project: dspic33e/qcomp-sim-c.X/display.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quantum Computer Outreach Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_15ff54b15d1e25f7ce738c9a3fe98b31.html">dspic33e</a></li><li class="navelem"><a class="el" href="dir_41732047a0354d31db2b57d6efa10cab.html">qcomp-sim-c.X</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">display.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>for all the state display functions  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for display.c:</div>
<div class="dyncontent">
<div class="center"><img src="display_8c__incl.png" border="0" usemap="#dspic33e_2qcomp-sim-c_8X_2display_8c" alt=""/></div>
<map name="dspic33e_2qcomp-sim-c_8X_2display_8c" id="dspic33e_2qcomp-sim-c_8X_2display_8c">
<area shape="rect" id="node2" href="display_8h.html" title="Description: Header file containing all the functions for displaying the qubits state vector..." alt="" coords="227,95,302,121"/>
<area shape="rect" id="node3" href="quantum_8h.html" title="Description: Header file containing all the matrix arithmetic for simulating a single qubit..." alt="" coords="87,169,170,196"/>
<area shape="rect" id="node6" href="time_8h.html" title="Description: Header file containing all the timing functions. " alt="" coords="463,244,522,271"/>
<area shape="rect" id="node9" href="io_8h.html" title="Description: Header file for input output functions. " alt="" coords="243,169,286,196"/>
<area shape="rect" id="node5" href="consts_8h.html" title="header file for (global) constants " alt="" coords="93,244,165,271"/>
<area shape="rect" id="node11" href="spi_8h.html" title="Description: SPI communication functions. " alt="" coords="239,244,290,271"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a43ed06e2eeade77b541d88b3fe875a05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="display_8c.html#a43ed06e2eeade77b541d88b3fe875a05">NUM_MAX_AMPS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a43ed06e2eeade77b541d88b3fe875a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a74883f35e288cffe4b006fe25e9e4349"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="display_8c.html#a74883f35e288cffe4b006fe25e9e4349">display_average</a> (<a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a> state[], int N)</td></tr>
<tr class="memdesc:a74883f35e288cffe4b006fe25e9e4349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the state amplitudes on LEDs.  <a href="#a74883f35e288cffe4b006fe25e9e4349">More...</a><br /></td></tr>
<tr class="separator:a74883f35e288cffe4b006fe25e9e4349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f503f9ad57412819a5990abde30b04f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="display_8c.html#a0f503f9ad57412819a5990abde30b04f">display_cycle</a> (<a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a> state[], int N)</td></tr>
<tr class="memdesc:a0f503f9ad57412819a5990abde30b04f"><td class="mdescLeft">&#160;</td><td class="mdescRight">cycles through the non-zero amplitude states  <a href="#a0f503f9ad57412819a5990abde30b04f">More...</a><br /></td></tr>
<tr class="separator:a0f503f9ad57412819a5990abde30b04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94844d5460515e4cbc5d3c2ef49ca680"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="display_8c.html#a94844d5460515e4cbc5d3c2ef49ca680">sort_states</a> (<a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a> state[], int num_qubits)</td></tr>
<tr class="separator:a94844d5460515e4cbc5d3c2ef49ca680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5f995bd054a84a73002f09bf6e3ccb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="display_8c.html#a4f5f995bd054a84a73002f09bf6e3ccb">remove_zero_amp_states</a> (<a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a> state[], int num_qubits, int disp_state[])</td></tr>
<tr class="memdesc:a4f5f995bd054a84a73002f09bf6e3ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">takes state vector, number of qubits and vector to write the nonzero elements of the statevector to.  <a href="#a4f5f995bd054a84a73002f09bf6e3ccb">More...</a><br /></td></tr>
<tr class="separator:a4f5f995bd054a84a73002f09bf6e3ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>for all the state display functions </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a43ed06e2eeade77b541d88b3fe875a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ed06e2eeade77b541d88b3fe875a05">&#9670;&nbsp;</a></span>NUM_MAX_AMPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_MAX_AMPS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state vector </td></tr>
    <tr><td class="paramname">num_qubits</td><td>The number of qubits in the state vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<p>This function finds the amplitude of the state vector with the largest magnitude. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a74883f35e288cffe4b006fe25e9e4349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74883f35e288cffe4b006fe25e9e4349">&#9670;&nbsp;</a></span>display_average()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_average </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a>&#160;</td>
          <td class="paramname"><em>state</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display the state amplitudes on LEDs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Pass in the state vector </td></tr>
    <tr><td class="paramname">N</td><td>The total number of qubits</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Currently the function only displays superpositions using the red and blue colors.</dd></dl>
<p>The routine works by adding up the squares of the amplitudes corresponding to each state of a given qubit. Suppose there are three qubits. Then the state vector is given by</p>
<pre class="fragment">*      index     binary   amplitude 
*      ----------------------------- 
*        0       0 0 0       a0
*        1       0 0 1       a1 
*        2       0 1 0       a2
*        3       0 1 1       a3
*        4       1 0 0       a4
*        5       1 0 1       a5
*        6       1 1 0       a6
*        7       1 1 1       a7
*      -----------------------------
*      Qubit:    2 1 0
* </pre><p>Consider qubit 2. The value of the ZERO state is formed by adding up all the amplitudes corresponding to its ZERO state. That is, indices 0, 1, 2 and 3. The ONE state is obtained by adding up the other indices: 4, 5, 6 and</p><ol type="1">
<li></li>
</ol>
<p>So the amplitudes for qubit 2 are</p>
<p>ZERO: (a_0)^2 + (a_1)^2 + (a_2)^2 + (a_3)^2 ONE: (a_4)^2 + (a_5)^2 + (a_6)^2 + (a_7)^2</p>
<p>Corresponding to the following indices:</p>
<p>ZERO: 0+0, 1+0, 2+0, 3+0 ONE: 4+0, 5+0, 6+0, 7+0</p>
<p>For qubit 1 the indices are:</p>
<p>ZERO: 0+0, 0+4, 1+0, 1+4 ONE: 2+0, 2+4, 3+0, 3+4</p>
<p>And for qubit 0 the indices are:</p>
<p>ZERO: 0+0, 0+2, 0+4, 0+6 ONE: 1+0, 1+2, 1+4, 1+6</p>
<p>The examples above are supposed to show the general pattern. For N qubits, qubit number k, the ZERO and ONE states are given by summing all the square amplitudes corresponding to the following indices:</p>
<p>ZERO: n + (2^(k+1) * j), where n = 0, 1, ..., 2^k - 1 and j = 0, 1, ..., 2^(N-k-2)</p>
<p>ONE: n + (2^(k+1) * j), where n = 2^k, 2^k + 1, ..., 2^(k+1) - 1 and j = 0, 1, ..., 2^(N-k-2)</p>
<p>The amplitudes are obtained by summing over both n and j. Notice that there is an edge condition when k = N-1. There, j acycle_lengthpparently ranges from 0 to -1. In this case, the only value of j is 0. The condition arises because of the way that 2^(N-k-2) is obtained (i.e. such that multiplying it by 2^(k+1) gives 2^(N-1).) However, if k = N-1, then 2^(k+1) = 2^N already, so it must be multiplied by 2^(-1). The key point is that the second term should not ever equal 2^N, so j should stop at 0.</p>
<p>The above indices can be expressed as the sum of a ROOT and a STEP as follows:</p>
<p>index = ROOT + STEP</p>
<p>where ROOT ranges from 0 to 2^k-1. This corresponds to the n values that give rise to ZERO. The indices for ONE can be obtained by adding 2^k to root. The STEP = j is a multiple of 2^(k+1) starting from zero that does not equal or exceed 2^N. ROOT can be realised using the following for loop:</p>
<p>for(int root = 0; root &lt; 2^k; root ++) { ... // ZERO index root; // ONE index root + 2^k; }</p>
<p>Then the STEP component can be realised as</p>
<p>for(int step = 0; step &lt; 2^N; step += 2^(k+1)) { // Add the following to root... step; } </p>
<p>Loop over all qubits k = 0, 1, 2, ... N-1</p>
<p>ROOT loop: starts at 0, increases in steps of 1</p>
<p>STEP loop: starts at 0, increases in steps of 2^(k+1)</p>
<p>Zeros are at the index root + step</p>
<p>Ones are at the index root + 2^k + step</p>
<p>update leds for each qubits average zero and one amps </p>

</div>
</div>
<a id="a0f503f9ad57412819a5990abde30b04f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f503f9ad57412819a5990abde30b04f">&#9670;&nbsp;</a></span>display_cycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_cycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a>&#160;</td>
          <td class="paramname"><em>state</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cycles through the non-zero amplitude states </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state to display </td></tr>
    <tr><td class="paramname">N</td><td>The length of the state vector </td></tr>
  </table>
  </dd>
</dl>
<p>Filter the state</p>
<p>Allocate <a class="el" href="structRGB.html" title="A type for holding red, green, blue values. ">RGB</a> array</p>
<p>Decode</p>
<p>Look at the jth bit</p>
<p>Reset the cycle</p>
<p>Each iteration of this loop writes</p>
<p>Loop here to add stuff </p>

</div>
</div>
<a id="a4f5f995bd054a84a73002f09bf6e3ccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5f995bd054a84a73002f09bf6e3ccb">&#9670;&nbsp;</a></span>remove_zero_amp_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int remove_zero_amp_states </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a>&#160;</td>
          <td class="paramname"><em>state</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_qubits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>disp_state</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>takes state vector, number of qubits and vector to write the nonzero elements of the statevector to. </p>
<p>updates disp_state where the first 'return value of the function'elements are the nonzero elements of the state vector 'state'</p>
<p>the disp_state elements are the nonzero elements of the state </p><pre class="fragment">/// e.g. state =  (00) = (1/r2) (Bell state) 
///               (01)   ( 0  ) 
///               (10)   ( 0  ) 
///               (11)   (1/r2) 
/// Then displ_state would have 2 elements 
/// disp_state = (0) standing for (00) 
///              (3)              (11) 
/// </pre> <dl class="section note"><dt>Note</dt><dd>we have to allocate disp_state to be the size of state, the function returns count which tells us the first 'count' elements of disp_state to use. In the Bell state example there are 2 values in disp_state, 0 &amp; 3, count is returned as 3 which means take the first count-1 elements (in this case 2) of disp_state which is 0,1 which is the correct elements </dd></dl>

</div>
</div>
<a id="a94844d5460515e4cbc5d3c2ef49ca680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94844d5460515e4cbc5d3c2ef49ca680">&#9670;&nbsp;</a></span>sort_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sort_states </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="consts_8h.html#ab32a0935b29bf7784d29e5669c59e588">Complex</a>&#160;</td>
          <td class="paramname"><em>state</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_qubits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>this </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>this function... </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
